(function(e){function t(t){for(var s,i,o=t[0],c=t[1],u=t[2],p=0,d=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(s=!1)}s&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var s={},r={app:0},a=[];function i(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=s,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2e90":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"list"},[e._l(e.list,(function(t){return n("ListItem",{key:t.id},["comment"===e.type?n("Comment",{attrs:{comment:t}}):e._e(),"issue"===e.type?n("Issue",{attrs:{issue:t}}):e._e()],1)})),e.hasData?e._e():n("div",[e._v("Упс... Нет данных!!!")])],2)},r=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"list-item"},[e._t("default")],2)},i=[],o=n("2877"),c={},u=Object(o["a"])(c,a,i,!1,null,null,null),l=u.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment"},[n("p",{staticClass:"comment__date"},[e._v(e._s(e.comment.date))]),n("p",{staticClass:"comment__text"},[e._v(e._s(e.comment.text))])])},d=[],h={props:{comment:{type:Object,require:!0}}},f=h,m=Object(o["a"])(f,p,d,!1,null,null,null),S=m.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"issue-wrap"},[n("div",{staticClass:"issue",on:{click:function(t){e.isOpen=!e.isOpen}}},[n("p",{staticClass:"issue__name"},[e._v(e._s(e.issue.name))]),n("p",{staticClass:"issue__status"},[e._v("Status: "+e._s(e.issue.status))]),n("p",{staticClass:"issue__descr"},[e._v(e._s(e.issue.descr))])]),e.isOpen?n("List",{staticClass:"list-comments",attrs:{list:e.issue.comments,type:"comment",hasData:!!e.issue.comments.length}}):e._e()],1)},O=[],v=(n("d3b7"),n("3ca3"),n("ddb0"),{props:{issue:{type:Object,require:!0}},data:function(){return{isOpen:!1}},components:{List:function(){return Promise.resolve().then(n.bind(null,"2e90"))}}}),y=v,b=Object(o["a"])(y,_,O,!1,null,null,null),E=b.exports,g={props:{list:{type:Array,require:!0},type:{type:String},hasData:{type:Boolean}},components:{ListItem:l,Comment:S,Issue:E}},w=g,I=Object(o["a"])(w,s,r,!1,null,null,null);t["default"]=I.exports},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"container",on:{click:function(t){e.showOptions=!1}}},[n("Select",{attrs:{options:e.searchRepository,showOptions:e.showOptions,search:!0,selectValue:e.selectValue,searchValue:e.searchValue},on:{select:e.changeSelected,show:e.changeShowOptions,input:e.changeSearchValue}}),n("List",{staticClass:"list-issue",attrs:{type:"issue",list:e.ISSUES,hasData:e.HAS_ISSUES}})],1)])},a=[],i=n("5530"),o=(n("4de4"),n("d3b7"),n("b0c0"),n("caad"),n("2532"),n("ac1f"),n("5319"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"select",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"selected",on:{click:function(t){return e.$emit("show",!e.showOptions)}}},[e._v(e._s(e.selectValue))]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showOptions,expression:"showOptions"}],staticClass:"options"},[e.search?n("input",{staticClass:"options__search",attrs:{type:"text",placeholder:"Поиск"},domProps:{value:e.searchValue},on:{input:function(t){return e.$emit("input",t.target.value)}}}):e._e(),e.options.length?e._e():n("div",{staticClass:"options__search-result"},[e._v(e._s(e.searchResult))]),e._l(e.options,(function(t){return n("div",{key:t.id,staticClass:"options__item",attrs:{value:t.id},on:{click:function(n){return e.changeSelectValue(t)}}},[e._v(e._s(t.name))])}))],2)])}),c=[],u={props:{options:{type:Array,require:!0},search:{type:Boolean,default:!1},searchResult:{type:String,default:"Ничего не найдено"},selectValue:{type:String,default:""},searchValue:{type:String,default:""},showOptions:{type:Boolean,default:!1}},methods:{changeSelectValue:function(e){this.$emit("select",e),this.$emit("show",!this.showOptions),this.$emit("input","")}}},l=u,p=n("2877"),d=Object(p["a"])(l,o,c,!1,null,null,null),h=d.exports,f=n("2e90"),m=n("2f62"),S={name:"App",components:{List:f["default"],Select:h},data:function(){return{selectValue:"Выберите репозиторий",searchValue:"",selectID:"",showOptions:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(m["c"])(["REPOSITORIES","ISSUES","HAS_ISSUES"])),{},{searchRepository:function(){var e=this,t=this.REPOSITORIES;return""===this.searchValue||this.searchValue&&(t=t.filter((function(t){var n=t.name;if(n.includes(e.searchValue))return t}))),t}}),methods:Object(i["a"])(Object(i["a"])({},Object(m["b"])(["GET_REPOSITORIES","GET_ISSUES"])),{},{changeSelected:function(e){this.selectValue=e.name,this.selectID=e.id,this.GET_ISSUES(e.name.replace("octocat/",""))},changeShowOptions:function(e){this.showOptions=e},changeSearchValue:function(e){this.searchValue=e}}),mounted:function(){this.GET_REPOSITORIES()}},_=S,O=Object(p["a"])(_,r,a,!1,null,null,null),v=O.exports,y=n("1da1"),b=(n("96cf"),n("e9c4"),n("d81d"),n("bc3a")),E=n.n(b);function g(e){var t="https://api.github.com/graphql",n="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",s={Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},r=e,a={method:"post",url:t,headers:s,data:r};return a}var w=JSON.stringify({query:'query {\n      user(login: "octocat") {\n        repositories(last: 20, ownerAffiliations:OWNER) {\n          edges {\n            node {\n              nameWithOwner\n              id\n            }\n          }\t\n        }\n      }\n    }'}),I={state:{repositories:[]},mutations:{SET_REPOSITORIES:function(e,t){e.repositories=t}},actions:{GET_REPOSITORIES:function(e){return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,E()(g(w)).then((function(e){var t=e.data.data.user.repositories.edges,n=t.map((function(e){return{name:e.node.nameWithOwner,id:e.node.id}}));return n}));case 3:s=t.sent,n("SET_REPOSITORIES",s);case 5:case"end":return t.stop()}}),t)})))()}},getters:{REPOSITORIES:function(e){return e.repositories}}},T={state:{issues:[],hasIssues:!0},mutations:{SET_ISSUES:function(e,t){e.issues=t},SET_HAS_ISSUES:function(e,t){e.hasIssues=t}},actions:{GET_ISSUES:function(e,t){return Object(y["a"])(regeneratorRuntime.mark((function n(){var s,r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=e.commit,r=JSON.stringify({query:'query { \n          repository(owner: "octocat", name: "'.concat(t,'") {\n                issues(last: 10) {\n                  edges {\n                    node {\n                      title\n                      state\n                      bodyText\n                      number\n                      id\n                      comments(first:20) {\n                        nodes {\n                          createdAt\n                          bodyText\n                          id\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n        }')}),n.next=4,E()(g(r)).then((function(e){var t=e.data.data.repository.issues.edges,n=t.map((function(e){var t=e.node.comments.nodes;return t=t.map((function(e){return{date:e.createdAt,text:e.bodyText,id:e.id}})),{name:e.node.title,status:e.node.state,descr:e.node.bodyText,id:e.node.id,number:e.node.number,comments:t}}));return n}));case 4:a=n.sent,s("SET_ISSUES",a),a.length?s("SET_HAS_ISSUES",!0):s("SET_HAS_ISSUES",!1);case 7:case"end":return n.stop()}}),n)})))()}},getters:{ISSUES:function(e){return e.issues},HAS_ISSUES:function(e){return e.hasIssues}}};s["a"].use(m["a"]);var j=new m["a"].Store({modules:{repositories:I,issues:T}});n("5903");s["a"].config.productionTip=!1,new s["a"]({store:j,render:function(e){return e(v)}}).$mount("#app")},5903:function(e,t,n){}});
//# sourceMappingURL=app.cce20630.js.map